(function(){"use strict";var e={3414:function(e,t,a){var r=a(3751),o=a(641);const s={id:"app"},n={class:"content"};function i(e,t,a,r,i,l){const c=(0,o.g2)("Navbar"),d=(0,o.g2)("router-view"),u=(0,o.g2)("FooterComponent");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(c),(0,o.Lk)("div",n,[(0,o.bF)(d)]),(0,o.bF)(u)])}var l=a(33);const c={class:"navbar navbar-expand-lg"},d={class:"container-fluid"},u={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},p={class:"navbar-nav align-items-center"},h={key:0,class:"nav-item"},g={class:"nav-item d-flex"};function m(e,t,a,r,s,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("nav",c,[(0,o.Lk)("div",d,[(0,o.bF)(i,{to:n.disableNavbar?null:"/",class:(0,l.C4)(["navbar-brand",{disabled:n.disableNavbar}]),href:"#"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)(" Smart Parking ")]))),_:1},8,["to","class"]),t[6]||(t[6]=(0,o.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,o.Lk)("div",u,[(0,o.Lk)("ul",p,[s.isAuthenticated?((0,o.uX)(),(0,o.CE)("li",h,[(0,o.bF)(i,{class:(0,l.C4)(["nav-link",{disabled:n.disableNavbar}]),to:"/spots"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("i",{class:"fas fa-car"},null,-1),(0,o.eW)(" Parking & EV Charging ")]))),_:1},8,["class"])])):(0,o.Q3)("",!0),(0,o.Lk)("li",g,[s.isAuthenticated?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,class:(0,l.C4)(["nav-link",{disabled:n.disableNavbar}]),to:"/login"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.Lk)("i",{class:"fas fa-lock"},null,-1),(0,o.eW)(" Login ")]))),_:1},8,["class"])),s.isAuthenticated?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:1,class:(0,l.C4)(["nav-link",{disabled:n.disableNavbar}]),to:"/register",style:{"margin-left":"15px"}},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.Lk)("i",{class:"fas fa-user-plus"},null,-1),(0,o.eW)(" Register ")]))),_:1},8,["class"])),s.isAuthenticated?((0,o.uX)(),(0,o.CE)("a",{key:2,class:(0,l.C4)(["nav-link",{disabled:n.disableNavbar}]),href:"#",onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},t[5]||(t[5]=[(0,o.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1),(0,o.eW)(" Logout ")]),2)):(0,o.Q3)("",!0)])])])])])}a(4114);var v=a(7496),k={data(){return{isAuthenticated:!1}},mounted(){this.checkAuthState()},methods:{checkAuthState(){const e=(0,v.xI)();e.onAuthStateChanged((e=>{this.isAuthenticated=!!e}))},logout(){const e=(0,v.xI)();(0,v.CI)(e).then((()=>{this.isAuthenticated=!1,this.$router.push("/login")}))}},computed:{disableNavbar(){return"/payment"===this.$route.path||"/charging-status"===this.$route.path}}},b=a(6262);const f=(0,b.A)(k,[["render",m],["__scopeId","data-v-5436c47e"]]);var L=f;const y={class:"footer"},A={class:"footer-content"},C={class:"footer-links"};function M(e,t,a,r,s,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("footer",y,[(0,o.Lk)("div",A,[(0,o.Lk)("div",C,[(0,o.bF)(i,{to:"/contact"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Contact Us")]))),_:1}),(0,o.bF)(i,{to:"/faq"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("FAQ")]))),_:1}),(0,o.bF)(i,{to:"/privacy"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Privacy Policy")]))),_:1}),(0,o.bF)(i,{to:"/terms"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("Terms of Service")]))),_:1})]),t[4]||(t[4]=(0,o.Fv)('<div class="footer-social" data-v-33821c48><a href="https://facebook.com" target="_blank" aria-label="Facebook" data-v-33821c48><i class="fab fa-facebook" data-v-33821c48></i></a><a href="https://twitter.com" target="_blank" aria-label="Twitter" data-v-33821c48><i class="fab fa-twitter" data-v-33821c48></i></a><a href="https://linkedin.com" target="_blank" aria-label="LinkedIn" data-v-33821c48><i class="fab fa-linkedin" data-v-33821c48></i></a><a href="https://instagram.com" target="_blank" aria-label="Instagram" data-v-33821c48><i class="fab fa-instagram" data-v-33821c48></i></a></div>',1))]),t[5]||(t[5]=(0,o.Lk)("div",{class:"footer-bottom"},[(0,o.Lk)("p",null,"© 2024 Smart Parking. All Rights Reserved.")],-1))])}var w={name:"FooterComponent"};const E=(0,b.A)(w,[["render",M],["__scopeId","data-v-33821c48"]]);var S=E,P={name:"App",components:{Navbar:L,FooterComponent:S}};const F=(0,b.A)(P,[["render",i]]);var N=F,T=a(5220);const W={class:"home-view"};function D(e,t,a,r,s,n){const i=(0,o.g2)("HeroSection");return(0,o.uX)(),(0,o.CE)("div",W,[t[0]||(t[0]=(0,o.Lk)("h1",null,"Welcome to the Smart Parking System",-1)),t[1]||(t[1]=(0,o.Lk)("p",null," Your solution for finding parking spots and charging stations in real time! ",-1)),(0,o.bF)(i),t[2]||(t[2]=(0,o.Fv)('<section class="features-section" data-v-55b9ddd6><h2 data-v-55b9ddd6>Key Features</h2><div class="features-container" data-v-55b9ddd6><div class="feature-card" data-v-55b9ddd6><i class="fas fa-car" data-v-55b9ddd6></i><h3 data-v-55b9ddd6>Real-Time Parking Availability</h3><p data-v-55b9ddd6> Access live data on parking spots and reserve a spot before you arrive, saving time. </p></div><div class="feature-card" data-v-55b9ddd6><i class="fas fa-charging-station" data-v-55b9ddd6></i><h3 data-v-55b9ddd6>EV Charging Stations</h3><p data-v-55b9ddd6> Find nearby EV charging stations, with detailed availability for your next charge. </p></div><div class="feature-card" data-v-55b9ddd6><i class="fas fa-lock" data-v-55b9ddd6></i><h3 data-v-55b9ddd6>Secure Payments</h3><p data-v-55b9ddd6> Make fast, secure payments for parking and EV charging, with multiple options supported. </p></div></div></section><section class="testimonials-section" data-v-55b9ddd6><h2 data-v-55b9ddd6>What Our Users Are Saying</h2><div class="testimonials-container" data-v-55b9ddd6><div class="testimonial-card" data-v-55b9ddd6><p data-v-55b9ddd6> &quot;This app makes parking so much easier! I love the real-time updates.&quot; </p><h4 data-v-55b9ddd6>Jane Hopper</h4><span data-v-55b9ddd6>★★★★</span></div><div class="testimonial-card" data-v-55b9ddd6><p data-v-55b9ddd6> &quot;A game-changer for EV drivers! Finding charging stations has never been this simple.&quot; </p><h4 data-v-55b9ddd6>Sam Owens</h4><span data-v-55b9ddd6>★★★★★</span></div></div></section>',2))])}const R={class:"hero"},V={class:"hero-content"};function Q(e,t,a,r,s,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",R,[t[4]||(t[4]=(0,o.Lk)("div",{class:"hero-overlay"},null,-1)),(0,o.Lk)("div",V,[t[2]||(t[2]=(0,o.Lk)("h1",{class:"hero-title"},"Effortless Parking and EV Charging",-1)),t[3]||(t[3]=(0,o.Lk)("p",{class:"hero-description"},"Find parking spots and charging stations in real-time, anytime.",-1)),(0,o.bF)(i,{to:"/spots",class:"btn btn-primary"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Find Parking")]))),_:1}),s.isAuthenticated?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,to:"/register",class:"btn btn-secondary"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Register Now")]))),_:1}))])])}var X={name:"HeroSection",data(){return{isAuthenticated:!1}},mounted(){this.checkAuthState()},methods:{checkAuthState(){const e=(0,v.xI)();e.onAuthStateChanged((e=>{this.isAuthenticated=!!e}))}}};const U=(0,b.A)(X,[["render",Q],["__scopeId","data-v-4a051100"]]);var I=U,x={name:"HomeView",components:{HeroSection:I}};const O=(0,b.A)(x,[["render",D],["__scopeId","data-v-55b9ddd6"]]);var j=O;const G={class:"parking-view"},B={class:"filters"},J={class:"map-container"};function K(e,t,a,s,n,i){const l=(0,o.g2)("GoogleMap"),c=(0,o.g2)("SpotsPage");return(0,o.uX)(),(0,o.CE)("div",G,[t[9]||(t[9]=(0,o.Lk)("h1",{class:"title"},"Parking Spots",-1)),(0,o.Lk)("div",B,[t[6]||(t[6]=(0,o.Lk)("label",{for:"filterByDistance"},"Filter by Distance:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.filterByDistance=e),id:"filterByDistance"},t[3]||(t[3]=[(0,o.Fv)('<option value="all" data-v-07305c45>All</option><option value="1" data-v-07305c45>Within 1 km</option><option value="5" data-v-07305c45>Within 5 km</option><option value="10" data-v-07305c45>Within 10 km</option><option value="20" data-v-07305c45>Within 20 km</option>',5)]),512),[[r.u1,n.filterByDistance]]),t[7]||(t[7]=(0,o.Lk)("label",{for:"sortByPrice"},"Sort by Price:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.sortByPrice=e),id:"sortByPrice"},t[4]||(t[4]=[(0,o.Lk)("option",{value:"low-to-high"},"Low to High",-1),(0,o.Lk)("option",{value:"high-to-low"},"High to Low",-1)]),512),[[r.u1,n.sortByPrice]]),t[8]||(t[8]=(0,o.Lk)("label",{for:"filterByEnergy"},"Filter by Energy Source:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.filterByEnergy=e),id:"filterByEnergy"},t[5]||(t[5]=[(0,o.Lk)("option",{value:"all"},"All",-1),(0,o.Lk)("option",{value:"Solar"},"Solar",-1),(0,o.Lk)("option",{value:"Natural Grid"},"Natural Grid",-1)]),512),[[r.u1,n.filterByEnergy]])]),(0,o.Lk)("div",J,[(0,o.bF)(l,{locations:n.filteredLocations},null,8,["locations"])]),(0,o.bF)(c,{filteredLocations:n.filteredLocations,mqttConnected:n.mqttMessageReceived},null,8,["filteredLocations","mqttConnected"])])}const q={id:"map",style:{width:"100%",height:"400px"}};function Y(e,t,a,r,s,n){return(0,o.uX)(),(0,o.CE)("div",q)}var z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAk1BMVEX///8AgAAAfgAAegAAewAAeAD9//2gwqAAgQD6/voAgwDi8OL3/Pfc7dzz+vMAhQB/uH+11rXG4MZsrmzu9+7o8+is0ayhxqHQ5tCUxJQ7lzufyZ++276EuoSNv42ZxplDmUNVolXI38gjjSNkqmSw1LAykjIaihpepl5BmEGKuYp1s3Wnz6c2kzZRoFFkpWR2rnYMsZFBAAAI+klEQVR4nN2da0PiOhCGbZpyKHfksoioKAhyVtzz/3/dAStLobd30s4k5fluZTrpZG6Z3N2J0Oi0Z4vh9FfEdLiYtXsNmX/NTzh5e17vW9oP/DOBr73V62DY7tn+eWWZvI/23kEc5SVRSvt69fX8Vl9ldh/mKl24uJy+bq3f66jKyeMm8AukO6ED/2PRsf2LSYSLDw8V70dIf/XUtf2zYRqfm4MhoaK0+pjZ/ukQnYc+TX1xRS7vbf/8QsLHvm8mXqTIYO64Hof7MvJ9y6hHbdtSZNP+Ml2fcbT3bFuQLB4N7EsqwcrJpdpdll2gZ5R6cM/R+VQVKTDC3zn2NYajoEr5vOPXOLQtVJxuaROaQuCQwblvVmBCU0Rcu+KrvisWAY8f49i2bN+8VP0JntGriW3pDgz4BDyIuLVvUp84BTzsjFvbMdUzgxG9FLFlV8QHXg1+i9i3+S1+8gt4NDf2sjj3lTpq2SJ+2XJSu32mffAaf2RHwN5GSMCDd/NiRcJXbjMaw3+zIKCIlTmhtvLWpiu2RL/RH9IChjsZO/oX/1NYQnZfJkFTduNvC2vQO+6KohJ+yUvoBZJpjXdJO3pCreRC/t5K1pD+4D+ISfgibmYiWlJJjV7LjoCe/yQkoS0VHuypjBJDcxWqCOO/F1KioQq1r1ur/W65nK+aOihqYMigKeGeNkwMqfa362l3Epn7cNJdDHbKpBLnPwpIuKCrUOvR/fXLb7RfVgFZRrUP+SX8oLozWg0yXMrFnqxHgUCxS/xJyl/nJHXft8T3pfkTGkQ7o1v53uSYWpbjtzVz0rryl4Uxz5S2Utn97zbplQfImpq1KCLqNbOED5RF6g+gZ3a3JC0yRxiUzRAU8CAiRYsBb9vUmKBCH08ezQgWVfN6bkNcQrVheu6cTbojT4SXTaqKDXARW6wpKXyvCGjZvw5eItALJuGOTODASS2Jj8brWD5nF8oMXkua3Jm2RkXUfzhE++ERlVC9kp/dRX0J1vjiN/qeA4PmQjho4TQ1r6A5MLLoM1SJPl/vAmzwjMooDfTpjM53rw++Zc9oHaHVHsbMcBtdpGZFFNR3078rlov+Ewx3rPEWfIF0Q42CJqFMkylf2BpR+2rFijEFJVSG7XYjcI30qxUrBpqjMW1iQp/fqlasGGCAr+aGTscn+hVUK1aMf7FVRPa6T6BRYlClUBegEppW3FFLZl/CpeHzUR3aX6U7w15CVEJdrVgxUEuzMUz4ocEZ326B7oem4c0AXCOUHBeNe/Q7MQxvwODM2JIV00X9UrMeNDQ402immQ4aPRmWwNDCHWMhuLEEw6etkalBXZqAsUqKusa+UW0BzZFw5mlQc24Uo47R+HpZtVgx4HypMogu0MIdY4iPR+FGUT6aBPJZq8CoqTEot8Od8U3W42xwCZhc5euhy0PtWCQ7gRcuFNGvAT22wyJlPl3ShCWckwKMN7z0xHxaD64Q0foI8a5jtWKTLWKBd5tQbB7eGc/eCt0hNJdq2LP5jde4ffaDwajj5h0PuII1tidCnwL/qQtK86XyIC0SNOgF79wC3nUoPUNKTwsfGJJO+Um068MbV/TOfxcEUm+k/ktWn/QEGuj/4G/yVmrvidbwTW+AMGFH6+tVepS1R4efK1q3KmMOKg750JPWo7RXP34kjz0jtiGZEsKe21nGYPX0No7Va8Lx8EMZnGoQOttFszURSgfN+cfg+WU6fXwYrHdeYPAQxiTbJW3DU0HHcZ7faMPzJFpsRAb5QEI1CJ52XtiRUPJQPq1hvyKIEWc50Nxtpfj8LumZhoUzlmorKKCVQ5aBxLG1MxYOyvaFh7eJz1TgTrElwDu+K2IrPpzOxHUrAWv7ejrUc4glETuKH4OQkiqPBRVSz+mVRFkZESnof8On4KqFmLAphaWZdGJfopWv8IjYMCzhAUoxhJQoNtIkiZASbeyFJ0SUaO0rPCKyJ4rMM8lEQImC06HSQM8JmWNjYuIF8IlEU0Qm0uTRZhbQugrZ40TrKry7G7MKKJxgS4c1YxMUV8n5GdOLbTBq48RVJYy5U95GS5gObbwMAePDN1UDzyGg4nNOwKBgNKMOgLWhmwbTwFaTwQxcsCjRIRWSejJxXFIhfM6cAvvYMhp4EzOO7etXrqg8PSwwIJEG3sSPSmj/kqAr8BZ3CEt5/DxMG6WycOEqqysovcyFWEwCZ1Np3bvvxoVrV1QYClvOIGZRXSjsQPopHdJs0zzEO0tQQnhQVgF9RwLfJBWFwkLd3CaEleQzJG/qIDOtIooSvxWIQljBRWVqIzBY3pz38l+iaKOsAaWVqFbOGtKIYdkv0Yk8fi4lm9ydKMXkY3D9xYUKHf8Kj8BjF1JVKHFDR1nQUUupOFKKKaBEZrEWKiz1JfrOG9IIY3NaA0MacW+6J7q/F54wNKdq67g7c8bwS3Q4LkxgpESn48JrCBdynHGgOQinsTdQoqsJtnQMQgyrjbIG0DM2JiPebELO2DhYbMqHnHYznXJuD2Lu1LmSbzHwAMIfCR2r2iM8U4rCjNcd8DGhfIjOdLCRoEwFk5msUzXw9Ub18rnjoFNzPa9Zi+RFErjbzcm+BATc/67dbn8CHIHiWI8eBXDXr+dWEQEdqHG8YJhPF1mmznZeQCAJG+VgCxsOEOvX0iU9A7TYBDW2M0eKL5/lu1JFhsLL6JgvMBagyNbITCTlpMCvUcva1CqymOT3ZDraSUoiP4aijt93kdwtkfkacRk6eR9ivT22E3nLNLiBRZp7OlHVfbuP6GWrsP7bfUT2MjW7F8o9sksY0vMsucgctlTjBM0lmTk319uBcTKH2NQ2i3hNRmuGMyMTypMx4UVsiLwA6b18dc6TXpN+zW69k2yXpNZo2O+mkmScpkORO2PESOs9uZ3d8MifFCXeRuR0Iu2McOtGnNKIFFNzEwmMM5OkDvV/tn9UpaTcwXkbKZq/pNwGXY/jMTjJwSD1T+dfkqx335LPdiSZyWjVrCe4iMQRjFqdPUBIDJK6gaLTJbNrW1rz8n2SxIUfgleMyZCUsH6N3fl0jzfmxQluKjo8MP71zxVSCf3/AfaXj+n/AyKbAAAAAElFTkSuQmCC",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAkFBMVEX/////AAD/oKD/+vr/8vL/4uL/+fn/f3//5ub/Q0P/3Nz/VVX/lJT/urr/jY3/bGz/mZn/6+v/wcH/p6f/rKz/IyP/sLD/2Nj/9PT/OTn/PT3/z8//tbX/v7//yMj/YmL/Gxv/hYX/ERH/MDD/nZ3/Kir/Skr/aGj/Xl7/Vlb/eXn/cHD/T0//j4//lpb/e3vIsRuKAAAIB0lEQVR4nN2diVrqMBCFLUUElKvI7gaoXPS6vf/b3Vbks0CXM9PMTML/AKGHtElmzcmJDtP25PpuOGikDIZ397enzVjpp8WJ2w8f81l0yOj8bNxtWj9eXdrjdZ64jMz3jwfrh+TTvShXt+VxPp5aPyuDduMJkvfDy31YIuPeC0Xe5n1dTqwfGyYekKYvM5G31o8OMf3kyfum4/+yEzdq6Eu58Xwee9jqWcpl21pFMad/6+tL+WMtpIhnN/oSVl4uqxNHE7jhwlrOIQOX+hI6p9aKdmldOhaY0LMWlaXrYAk95MNa1i/XEvoS1r6cVcdCApPt3w/z8UpMYHIc92H3PxMUmNiO9kvqUlRgFC2sN/8/wgKTWeyaCvwQF5hg+S26Psjks7JbUR9UBEbRu5XArpLAxGS0EdhkemM4XJkofNUTGEUW/puhpsBoob/a6H2EG160BcYdZYXRQFmhyla/S19V4Km+QOVd8d1AYXSnKPDOQmA00jP5pyMThdGnmkJJq74UrcVm+mil8ExJYZ3wWU10JjG2ExgtVRTWCMCMZp1OZ7aq8ZZrHE/jFevRFuvhpN36HqHVn/TObngKGwoKWQ7u9fX+XhafXnH+qplCJhU9yyL6KvAlcSLG8oYi3Wqal/jKxuRPUt6hQd4qyk+TfXJYTvzoRlwhOpXOTqqvQPr8TTSb3oAhb2lDzoUVXpCeBjtldRekQVuyCkkr/Bc4KG31kl1N+5RHwZ1HE8qwsie3HuFJngjjUkzqmZi6FEo4lBQVowwsGosi7BU079+UECK4FhKX0sYfo0McmhDHksxCIWxd5CTKOTy05I6IJ4+ek8fGt4yZ4I74Bj8FIw8WN1oEl5pz+G9mDI5/AnLpGS14wWOFUeDR5Q7fTfhfZvnE4MwVOc8wbFjwgijwa/rPsS7GI/AStZuojfHqWNcv96hC5vEfzaOWO5nC5jgz3Q71aDy6lZUB9QWPmH5b2AfkVlYGNLTNdWrCSWRuZWVAl3PqqXsLbCU6VZUFVciNuMMrmVNVWVCFf5njwx4Ep6qyoApvmN+h/VuKuhKfmOYNbJy5lZUB3g+Z5g3qrKH4uGjAngameYNmO8rlDsFmOC8HrYW6m1FPMx3YeuKFwOA/UDAQjCYkLlhLDXykESwVhoN9LOMCTjoW9NPAyzkSVdsHjolwD4UIuLOIEamFA3dyJn7yN8Nhd4aVD/97olFguJr5kTyJuLdZNDKDh4CpUb4m/HrciCjbQghcEEvO8PCacHUJrpD2VxNCT8LVeniEiPSeNvGs45WYtg2UMDdhzSNkxkt3W2gRFOInm3+EQcXrLUlZWuABckkYUr7qAvYWfQPNImUGo7G0QGolwrBywBYclEx5VMj0Jtbfv1UYUg+0/EvOkZ4KKX8pYVX2pk6XxNFUukiRM7Qvi/boeEDL2ZP0QWVhNPpY5/31fUbSv04RImlL3DJaPvQzX2Tcv2Pki4tnXm7h9vqYvX59PA+Gjc+zObMWQasqyKK8coNaiwzWC+YAvWpnqa5JVSgW5Ys0vqpE1rjfRbfbwBb5I2kGixrLhaZAkzpZjbK1X/AMN3co7fZb5PtD7aPdwIWQ8e0GDcNwly9lhfpdW7WPbupTSMn5doFF413dSTRpaEZwf9dGy2zaRbOPklFPOoHOugVYtb+met3Y6O+FW9ZKCnW6YeSh9SUa9trVmUTLJvQ6e6Jpu2SN5dS2Ab3CJNLzVtxCiv2xeLYVKD+JC/O+7LLtvLW9M3mQuizQkStxwpH12FRHyeURdbutvLhgT9J3qtnuspgpNVSNI5kNTKHuJVbF3FtL+yGWavbpyxTKXVLi0QVlvEaDVXCL/CSg5GTieDSFhAx3AmtrUTtI3ANhff3KHu7TM4xufCiE2DgPwP6SoD1c+/ht/PhluA6ZmjmBi3Hrz7BzAhfjdhL9uHBtD5emsF5/eQp46V4lBneuQNB6m5ZhczVQNazk4VyslRTiyhTWvlIGp+XGnzFSzu+i4OamOX+n8OQkdnFR2ZMXHsQiXPgzVBNl6dSfRD+cwMXU92d4PoX1k9x9CMWUQ6vADHAK8Q4v+fi9kG6o55QKYArreRY1LlmpT52aIR8CogD85XRh/egg/C8xkCnkL6cL6weH4e6JPhsVe/AmUfEGx9rwTqfW+V0kOMupdYoeDc5FpZaJsgwYHhtPfaRF0Oto/Qs2lROTHeDexQuroDa98C3kWw18DcAPnkXtEWihKPq9NPbQ4om+ZLCRoJRgSreZk4FSMxTQmTsLoYlXEM6LQ3B3ho95CRDw+Tu43X4LGmyTvlpUDrSvrOR1f8JgjRdC8HMXgW0YQdn2+0AOG/GOpJIgtn6IR9JfkBSbgNeZlGW1QutHrEl1V4JgzzNbKteaAE3fXaoywfyp/OFSZQjb1qI7oeLmEbV2lnKUp0lp9kKUonxL9DVXlkSpqX8EL2n5a+p/BhRCWbF38Nv9hpLVVLGrrCQlIQyP850pFJ9Nw3XQ7BIX+tyCyGJDKPTvB+tF3KcoNeMYDjQbijq8hBbYLqGgjX7P+rncUXDdddBOtl3yYzQj68dySP6HqHFnjBq5aQtHsxum5DZYPArLaUvuUnMkh9INeXv+8ez3KXkeN8kLU/WZ5sRK/axI5xLnuL796FTmjJzGIF61EKpPTgPJIzqzpeSELwLLCa7isAQjpNoDhMNKofCDTrscdll6tX4kxxz62/SuGNPhUGF4id3lHCo8rkNbemFlY5dnrSST/y28e+yuZ7pXAAAAAElFTkSuQmCC",H="data:image/png;base64,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",_={name:"GoogleMap",props:{locations:{type:Array,default:()=>[]}},data(){return{userLocation:null,userAddress:"",map:null,directionsService:null,directionsRenderer:null,userMarkerInstance:null,geocoder:null}},mounted(){this.loadGoogleMaps()},methods:{loadGoogleMaps(){"undefined"!==typeof window.google&&this.initMap()},initMap(){this.map=new window.google.maps.Map(document.getElementById("map"),{center:{lat:-37.821,lng:145.037},zoom:13}),this.directionsService=new window.google.maps.DirectionsService,this.directionsRenderer=new window.google.maps.DirectionsRenderer,this.directionsRenderer.setMap(this.map),this.geocoder=new window.google.maps.Geocoder,this.watchUserLocation()},watchUserLocation(){navigator.geolocation&&navigator.geolocation.watchPosition((e=>{this.userLocation={lat:e.coords.latitude,lng:e.coords.longitude},this.map.setCenter(this.userLocation),this.updateUserMarker(),this.updateParkingMarkers(this.locations),this.reverseGeocodeUserLocation()}),(e=>{console.error("Geolocation failed: ",e),this.map.setCenter(this.userLocation),this.updateUserMarker(),this.updateParkingMarkers(this.locations),this.reverseGeocodeUserLocation()}),{enableHighAccuracy:!1,maximumAge:6e4,timeout:1e4})},reverseGeocodeUserLocation(){this.geocoder.geocode({location:this.userLocation},((e,t)=>{"OK"===t&&e[0]&&(this.userAddress=e[0].formatted_address)}))},updateUserMarker(){this.userMarkerInstance&&this.userMarkerInstance.setMap(null),this.userMarkerInstance=new window.google.maps.Marker({position:this.userLocation,map:this.map,icon:{url:H,scaledSize:new window.google.maps.Size(40,40)}});const e=new window.google.maps.InfoWindow({content:`<div><strong>Your Location</strong><br>${this.userAddress}</div>`});this.userMarkerInstance.addListener("click",(()=>{e.open(this.map,this.userMarkerInstance)}))},updateParkingMarkers(e){e.forEach((e=>{const t="available"===e.status?z:Z,a=new window.google.maps.Marker({position:e.coords,map:this.map,icon:{url:t,scaledSize:new window.google.maps.Size(40,40)}}),r=this.calculateDistance(e.coords);e.distance=r;const o=new window.google.maps.InfoWindow({content:`<div>\n        <strong>${e.name}</strong><br>\n        Status: ${e.status}<br>\n        Distance: ${r} km<br>\n        Price: $${e.price}<br>\n        Energy Source: ${e.energySource}\n      </div>`});a.addListener("click",(()=>{o.open(this.map,a),this.calculateRoute(e.coords)}))}))},calculateRoute(e){if(!this.userLocation)return;const t={origin:this.userLocation,destination:e,travelMode:window.google.maps.TravelMode.DRIVING};this.directionsService.route(t,((e,t)=>{"OK"===t&&this.directionsRenderer.setDirections(e)}))},calculateDistance(e){if(!this.userLocation)return"N/A";const t=e=>e*Math.PI/180,a=this.userLocation.lat,r=this.userLocation.lng,o=e.lat,s=e.lng,n=6371,i=t(o-a),l=t(s-r),c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t(a))*Math.cos(t(o))*Math.sin(l/2)*Math.sin(l/2),d=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),u=n*d;return u.toFixed(2)}}};const $=(0,b.A)(_,[["render",Y],["__scopeId","data-v-c8bb8454"]]);var ee=$;const te={class:"parking-list"},ae={class:"parking-table"},re=["onClick"];function oe(e,t,a,r,s,n){return(0,o.uX)(),(0,o.CE)("div",te,[t[1]||(t[1]=(0,o.Lk)("h3",null,"Parking Spot Status:",-1)),(0,o.Lk)("table",ae,[t[0]||(t[0]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"Parking Spot"),(0,o.Lk)("th",null,"Status"),(0,o.Lk)("th",null,"Distance (km)"),(0,o.Lk)("th",null,"Price / per minute"),(0,o.Lk)("th",null,"Energy Source"),(0,o.Lk)("th",null,"Action")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.filteredLocations,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.name},[(0,o.Lk)("td",null,(0,l.v_)(e.name),1),(0,o.Lk)("td",null,(0,l.v_)(e.status),1),(0,o.Lk)("td",null,(0,l.v_)(e.distance?e.distance+" km":"N/A"),1),(0,o.Lk)("td",null,"$"+(0,l.v_)(e.price),1),(0,o.Lk)("td",null,(0,l.v_)(e.energySource),1),(0,o.Lk)("td",null,["available"===e.status?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t=>n.startParking(e)}," Start Charging ",8,re)):(0,o.Q3)("",!0)])])))),128))])])])}var se=a(3061),ne={name:"SpotsPage",props:{filteredLocations:{type:Array,required:!0}},data(){return{isCharging:!1,currentSpot:null,client:null,mqttMessageReceived:!1}},mounted(){this.connectToMQTT()},methods:{startParking(e){"Natural Grid"===e.energySource?this.redirectToChargingStatus(e):"Solar"===e.energySource&&(this.mqttMessageReceived?this.redirectToChargingStatus(e):alert("Please connect the charger to start charging."))},redirectToChargingStatus(e){this.$router.push({path:"/charging-status",query:{location:e.name,pricePerSecond:e.price}})},connectToMQTT(){this.client=se.A.connect("wss://broker.emqx.io:8084/mqtt"),this.client.on("connect",(()=>{console.log("Connected to MQTT broker"),this.client.subscribe("myTopic/sensor",(e=>{e||console.log("Subscribed to topic: myTopic/sensor")}))})),this.client.on("message",((e,t)=>{const a=t.toString();a.includes("Charger is connected")?this.mqttMessageReceived=!0:a.includes("Charger not connected")&&(this.mqttMessageReceived=!1)}))}}};const ie=(0,b.A)(ne,[["render",oe],["__scopeId","data-v-1498361f"]]);var le=ie,ce={name:"ParkingView",components:{GoogleMap:ee,SpotsPage:le},data(){return{parkingLocations:[{name:"Swinburne Car Park",coords:{lat:-37.820717870866375,lng:145.03786293862672},status:"available",price:.23,energySource:"Solar",distance:null},{name:"CBD Car Park",coords:{lat:-37.80790996494552,lng:144.9680209676525},status:"available",price:.45,energySource:"Natural Grid",distance:null},{name:"Clayton Car Park",coords:{lat:-37.907553985228446,lng:145.13592985617817},status:"occupied",price:.2,energySource:"Solar",distance:null}],filterByDistance:"all",sortByPrice:"low-to-high",filterByEnergy:"all",filteredLocations:[],client:null,mqttMessageReceived:!1}},created(){this.updateFilteredLocations(),this.connectToMQTT()},watch:{filterByDistance(){this.updateFilteredLocations()},sortByPrice(){this.updateFilteredLocations()},filterByEnergy(){this.updateFilteredLocations()}},methods:{updateFilteredLocations(){let e=[...this.parkingLocations];if("all"!==this.filterByEnergy&&(e=e.filter((e=>e.energySource===this.filterByEnergy))),"all"!==this.filterByDistance){const t=parseFloat(this.filterByDistance);e=e.filter((e=>e.distance<=t))}"low-to-high"===this.sortByPrice?e.sort(((e,t)=>e.price-t.price)):"high-to-low"===this.sortByPrice&&e.sort(((e,t)=>t.price-e.price)),this.filteredLocations=e},connectToMQTT(){this.client=se.A.connect("wss://broker.emqx.io:8084/mqtt"),this.client.on("connect",(()=>{console.log("Connected to MQTT broker"),this.client.subscribe("myTopic/sensor",(e=>{e||console.log("Subscribed to topic: myTopic/sensor")}))})),this.client.on("message",((e,t)=>{const a=t.toString();console.log(`Received message: ${a} from topic: ${e}`),a.includes("Charger is connected")?this.mqttMessageReceived=!0:a.includes("Charger not connected")&&(this.mqttMessageReceived=!1)}))}},beforeUnmount(){this.client&&this.client.end()}};const de=(0,b.A)(ce,[["render",K],["__scopeId","data-v-07305c45"]]);var ue=de;const pe={class:"payment-view"};function he(e,t,a,r,s,n){const i=(0,o.g2)("PaymentForm");return(0,o.uX)(),(0,o.CE)("div",pe,[t[0]||(t[0]=(0,o.Lk)("h1",null,"Payment",-1)),(0,o.bF)(i,{totalPrice:s.totalPrice},null,8,["totalPrice"])])}const ge={class:"payment-form"},me={key:0},ve={key:0,class:"error-message"},ke={key:0,class:"error-message"},be={key:0,class:"error-message"},fe=["disabled"],Le={key:2,class:"success-message"},ye={key:3,class:"error-message"};function Ae(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",ge,[n.paymentSuccess?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("h3",me,"Complete your Payment")),n.paymentSuccess?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("form",{key:1,onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>i.processPayment&&i.processPayment(...e)),["prevent"]))},[(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Card Number","onUpdate:modelValue":t[0]||(t[0]=e=>n.payment.cardNumber=e),onInput:t[1]||(t[1]=(...e)=>i.validateCardNumber&&i.validateCardNumber(...e)),required:"",maxlength:"16"},null,544),[[r.Jo,n.payment.cardNumber]]),n.errors.cardNumber?((0,o.uX)(),(0,o.CE)("span",ve,(0,l.v_)(n.errors.cardNumber),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Expiration Date (MM/YY)","onUpdate:modelValue":t[2]||(t[2]=e=>n.payment.expirationDate=e),onInput:t[3]||(t[3]=(...e)=>i.validateExpiryDate&&i.validateExpiryDate(...e)),required:"",maxlength:"5"},null,544),[[r.Jo,n.payment.expirationDate]]),n.errors.expirationDate?((0,o.uX)(),(0,o.CE)("span",ke,(0,l.v_)(n.errors.expirationDate),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"CVV","onUpdate:modelValue":t[4]||(t[4]=e=>n.payment.cvv=e),onInput:t[5]||(t[5]=(...e)=>i.validateCVV&&i.validateCVV(...e)),required:"",maxlength:"3"},null,544),[[r.Jo,n.payment.cvv]]),n.errors.cvv?((0,o.uX)(),(0,o.CE)("span",be,(0,l.v_)(n.errors.cvv),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{type:"submit",class:"btn btn-success",disabled:n.isProcessing||i.hasErrors},(0,l.v_)(n.isProcessing?"Processing...":"Submit Payment"),9,fe)],32)),n.paymentSuccess?((0,o.uX)(),(0,o.CE)("div",Le,[t[8]||(t[8]=(0,o.Lk)("h4",null,"Payment Successful!",-1)),(0,o.Lk)("p",null,"Your payment of $"+(0,l.v_)(n.totalCost)+" has been successfully processed.",1),(0,o.Lk)("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>i.goToHome&&i.goToHome(...e))},"Go to Home")])):(0,o.Q3)("",!0),n.paymentFailed?((0,o.uX)(),(0,o.CE)("div",ye,t[9]||(t[9]=[(0,o.Lk)("h4",null,"Payment Failed",-1),(0,o.Lk)("p",null,"There was an error processing your payment. Please try again.",-1)]))):(0,o.Q3)("",!0)])}var Ce={props:{totalPrice:{type:Number,required:!0}},data(){return{payment:{cardNumber:"",expirationDate:"",cvv:""},paymentSuccess:!1,paymentFailed:!1,isProcessing:!1,totalCost:this.totalPrice||0,errors:{cardNumber:null,expirationDate:null,cvv:null}}},computed:{hasErrors(){return!!this.errors.cardNumber||!!this.errors.expirationDate||!!this.errors.cvv}},methods:{validateCardNumber(){const e=/^[0-9]{16}$/;e.test(this.payment.cardNumber)?this.errors.cardNumber=null:this.errors.cardNumber="Card number must be exactly 16 digits."},validateExpiryDate(){const e=/^(0[1-9]|1[0-2])\/\d{2}$/,[t,a]=this.payment.expirationDate.split("/");if(!e.test(this.payment.expirationDate))return void(this.errors.expirationDate="Expiration date must be in MM/YY format.");const r=new Date,o=r.getMonth()+1,s=r.getFullYear()%100;parseInt(a,10)<s||parseInt(a,10)===s&&parseInt(t,10)<o?this.errors.expirationDate="Expiration date cannot be in the past.":this.errors.expirationDate=null},validateCVV(){const e=/^[0-9]{3}$/;e.test(this.payment.cvv)?this.errors.cvv=null:this.errors.cvv="CVV must be exactly 3 digits."},processPayment(){this.hasErrors||(this.isProcessing=!0,setTimeout((()=>{const e=Math.random()>.3;this.isProcessing=!1,e?(this.paymentSuccess=!0,this.paymentFailed=!1):(this.paymentFailed=!0,this.paymentSuccess=!1)}),2e3))},goToHome(){this.$router.push("/")}}};const Me=(0,b.A)(Ce,[["render",Ae],["__scopeId","data-v-46365843"]]);var we=Me,Ee={name:"PaymentView",components:{PaymentForm:we},data(){return{totalPrice:this.$route.query.totalCost||0}}};const Se=(0,b.A)(Ee,[["render",he],["__scopeId","data-v-d3ef32d2"]]);var Pe=Se;const Fe={class:"charging-status"},Ne={class:"charging-info"},Te={key:0},We={class:"progress-container"};function De(e,t,a,r,s,n){return(0,o.uX)(),(0,o.CE)("div",Fe,[t[3]||(t[3]=(0,o.Lk)("h1",null,"Charging Status",-1)),(0,o.Lk)("div",Ne,[(0,o.Lk)("h3",null,[t[0]||(t[0]=(0,o.Lk)("i",{class:"fas fa-map-marker-alt"},null,-1)),(0,o.eW)(" Location: "+(0,l.v_)(s.currentSpot),1)]),(0,o.Lk)("h3",null,[t[1]||(t[1]=(0,o.Lk)("i",{class:"fas fa-clock"},null,-1)),(0,o.eW)(" Time Elapsed: "+(0,l.v_)(s.timeElapsed)+" second",1),s.timeElapsed>1?((0,o.uX)(),(0,o.CE)("span",Te,"s")):(0,o.Q3)("",!0)]),(0,o.Lk)("h3",null,[t[2]||(t[2]=(0,o.Lk)("i",{class:"fas fa-dollar-sign"},null,-1)),(0,o.eW)(" Total Cost: $"+(0,l.v_)(s.totalPrice.toFixed(2)),1)]),(0,o.Lk)("div",We,[(0,o.Lk)("div",{class:"progress-bar",role:"progressbar",style:(0,l.Tr)({width:s.timeElapsed%60+"%"})},(0,l.v_)(s.timeElapsed%60)+"% ",5)])])])}var Re={data(){return{currentSpot:this.$route.query.location||"Unknown Location",timeElapsed:0,pricePerMinute:parseFloat(this.$route.query.pricePerMinute)||.23,pricePerSecond:0,totalPrice:0,chargingInterval:null,client:null,mqttMessageReceived:!0}},mounted(){this.pricePerSecond=this.pricePerMinute/60,this.beginCharging(),this.connectToMQTT()},methods:{beginCharging(){this.chargingInterval=setInterval((()=>{this.timeElapsed++,this.totalPrice+=this.pricePerSecond}),1e3)},connectToMQTT(){this.client=se.A.connect("wss://broker.emqx.io:8084/mqtt"),this.client.on("connect",(()=>{console.log("Connected to MQTT broker"),this.client.subscribe("myTopic/sensor",(e=>{e||console.log("Subscribed to topic: myTopic/sensor")}))})),this.client.on("message",((e,t)=>{const a=t.toString();console.log(`Received message: ${a} from topic: ${e}`),a.includes("Charger is connected")?this.mqttMessageReceived=!0:a.includes("Charger not connected")&&(this.mqttMessageReceived=!1,this.finishCharging())}))},finishCharging(){clearInterval(this.chargingInterval);const e=this.totalPrice.toFixed(2);this.client.end(),this.$router.push({path:"/payment",query:{totalCost:e}})}},beforeUnmount(){clearInterval(this.chargingInterval),this.client&&this.client.end()}};const Ve=(0,b.A)(Re,[["render",De],["__scopeId","data-v-35d304f5"]]);var Qe=Ve;const Xe={class:"login"},Ue={class:"form-group"},Ie={class:"form-group"},xe={key:0,class:"error"};function Oe(e,t,a,s,n,i){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Xe,[t[8]||(t[8]=(0,o.Lk)("h1",null,"Login",-1)),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>i.loginUser&&i.loginUser(...e)),["prevent"]))},[(0,o.Lk)("div",Ue,[t[3]||(t[3]=(0,o.Lk)("label",{for:"email"},"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),required:"",placeholder:"Enter your email",class:"form-control"},null,512),[[r.Jo,n.email]])]),(0,o.Lk)("div",Ie,[t[4]||(t[4]=(0,o.Lk)("label",{for:"password"},"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),required:"",placeholder:"Enter your password",class:"form-control"},null,512),[[r.Jo,n.password]])]),t[7]||(t[7]=(0,o.Lk)("div",{class:"form-group"},[(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login")],-1)),(0,o.Lk)("p",null,[t[6]||(t[6]=(0,o.eW)(" Don't have an account? ")),(0,o.bF)(c,{to:"/register"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Register here")]))),_:1})]),n.errorMessage?((0,o.uX)(),(0,o.CE)("p",xe,(0,l.v_)(n.errorMessage),1)):(0,o.Q3)("",!0)],32)])}var je=a(223),Ge=a(1884);const Be={apiKey:"AIzaSyAk9Ixndjx5ZlikPOnDbsk23I_bAyajcHY",authDomain:"smart-parking-app-e0a65.firebaseapp.com",projectId:"smart-parking-app-e0a65",storageBucket:"smart-parking-app-e0a65.appspot.com",messagingSenderId:"977302318465",appId:"1:977302318465:web:41ace8c3135a04a5e28c80",measurementId:"G-WYZL7EPHZL"},Je=(0,je.Wp)(Be);(0,v.xI)(Je),(0,Ge.aU)(Je);var Ke={data(){return{email:"",password:"",errorMessage:""}},methods:{async loginUser(){try{const e=(0,v.xI)();await(0,v.x9)(e,this.email,this.password),this.$router.push("/")}catch(e){this.errorMessage=e.message}}}};const qe=(0,b.A)(Ke,[["render",Oe],["__scopeId","data-v-ead22f60"]]);var Ye=qe;const ze={class:"register"},Ze={class:"form-group"},He={class:"form-group"},_e={class:"form-group"},$e={class:"form-group"},et={key:0,class:"error"};function tt(e,t,a,s,n,i){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ze,[t[12]||(t[12]=(0,o.Lk)("h1",null,"Register",-1)),(0,o.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>i.registerUser&&i.registerUser(...e)),["prevent"]))},[(0,o.Lk)("div",Ze,[t[5]||(t[5]=(0,o.Lk)("label",{for:"email"},"Email:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),required:"",placeholder:"Enter your email",class:"form-control"},null,512),[[r.Jo,n.email]])]),(0,o.Lk)("div",He,[t[6]||(t[6]=(0,o.Lk)("label",{for:"password"},"Password:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),required:"",placeholder:"Enter your password",class:"form-control"},null,512),[[r.Jo,n.password]])]),(0,o.Lk)("div",_e,[t[7]||(t[7]=(0,o.Lk)("label",{for:"phoneNumber"},"Phone Number:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.phoneNumber=e),required:"",placeholder:"Enter your phone number",class:"form-control"},null,512),[[r.Jo,n.phoneNumber]])]),(0,o.Lk)("div",$e,[t[8]||(t[8]=(0,o.Lk)("label",{for:"rego"},"Car Registration Number:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.rego=e),required:"",placeholder:"Enter your car registration number",class:"form-control"},null,512),[[r.Jo,n.rego]])]),t[11]||(t[11]=(0,o.Lk)("div",{class:"form-group"},[(0,o.Lk)("button",{type:"submit",class:"btn btn-primary"},"Register")],-1)),(0,o.Lk)("p",null,[t[10]||(t[10]=(0,o.eW)(" Already have an account? ")),(0,o.bF)(c,{to:"/login"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("Login here")]))),_:1})]),n.errorMessage?((0,o.uX)(),(0,o.CE)("p",et,(0,l.v_)(n.errorMessage),1)):(0,o.Q3)("",!0)],32)])}var at={data(){return{email:"",password:"",phoneNumber:"",rego:"",errorMessage:""}},methods:{async registerUser(){try{const e=(0,v.xI)(),t=(0,Ge.aU)(),a=await(0,v.eJ)(e,this.email,this.password);await(0,Ge.BN)((0,Ge.H9)(t,"users",a.user.uid),{email:this.email,phoneNumber:this.phoneNumber,rego:this.rego}),this.$router.push("/")}catch(e){this.errorMessage=e.message}}}};const rt=(0,b.A)(at,[["render",tt],["__scopeId","data-v-e1af1108"]]);var ot=rt;const st=[{path:"/",name:"home",component:j},{path:"/map",name:"map",component:ee},{path:"/spots",name:"spots",component:ue,meta:{requiresAuth:!0}},{path:"/payment",name:"payment",component:Pe,meta:{requiresAuth:!0}},{path:"/charging-status",name:"charging-status",component:Qe,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:Ye},{path:"/register",name:"register",component:ot}],nt=(0,T.aE)({history:(0,T.LA)(),routes:st});nt.beforeEach(((e,t,a)=>{const r=e.matched.some((e=>e.meta.requiresAuth)),o=(0,v.xI)(),s=o.currentUser;r&&!s?a("/login"):a()}));var it=nt;const lt=(0,r.Ef)(N);lt.use(it),lt.mount("#app")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,r,o,s){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,n=r[0],i=r[1],l=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)var d=l(a)}for(t&&t(r);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunksmart_parking_app"]=self["webpackChunksmart_parking_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(3414)}));r=a.O(r)})();
//# sourceMappingURL=app.139aeaf5.js.map